# ============================================
# DoctorFollow Medical RAG - Production Dependencies for Render.com
# Optimized for api_server.py and rag_v3.py deployment
# Python 3.10+ recommended
# ============================================

# ============================================
# Core LangChain & LangGraph Framework
# ============================================
langchain>=0.3.0
langchain-core>=0.3.0
langchain-community>=0.3.0
langgraph>=0.2.0

# ============================================
# LLM Providers
# ============================================
# AWS Bedrock integration
langchain-aws>=0.2.0
boto3>=1.35.0
botocore>=1.35.0

# OpenAI (alternative LLM provider)
langchain-openai>=0.3.0
openai>=1.54.4

# ============================================
# Database Drivers
# ============================================
# PostgreSQL + pgvector for semantic search
psycopg2-binary==2.9.10
pgvector==0.3.5

# Neo4j for knowledge graph
neo4j>=5.0.0

# Elasticsearch for BM25 retrieval
elasticsearch>=8.0.0

# ============================================
# Embeddings & NLP Models
# ============================================
# Using Jina AI Embeddings API instead of local models to save memory
# This reduces memory from ~600MB to ~200MB for Render free tier (512MB limit)
# sentence-transformers and torch removed - using Jina AI API for embeddings
# Note: For local indexing with sentence-transformers, install separately
tokenizers>=0.20.0

# Basic NLP utilities
nltk==3.9.1

# ============================================
# Web Framework & API
# ============================================
fastapi==0.115.4
uvicorn[standard]==0.32.0
python-multipart>=0.0.9

# ============================================
# Data Validation & Settings
# ============================================
pydantic==2.9.2
pydantic-settings==2.6.1

# ============================================
# Utilities
# ============================================
python-dotenv==1.0.1
numpy==1.26.4
certifi>=2024.0.0

# ============================================
# Security (for HTTP Basic Auth & SSL)
# ============================================
passlib>=1.7.4

# ============================================
# HTTP Client (for health checks and external APIs)
# ============================================
httpx>=0.27.0
requests>=2.32.0